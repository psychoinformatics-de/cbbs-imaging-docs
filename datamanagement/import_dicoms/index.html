<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="author" content="Team Brawndo" />
  <title>CBBS Imaging &ndash; Import DICOMs</title>
  <link rel="license" hreflang="en" href="../../copyright.html" />

  <link rel="stylesheet" type="text/css" href="../../theme/css/style.css">
</head>

<body>
  <aside>
    <h1><a href="/">CBBS Imaging</a></h1>
    <nav>
      <ul>

              <li>
                <a href="../../datamanagement/">Data Management</a>

                <ul>
                  <li>
                    <a href="../../datamanagement/study_setup/">Initial study setup</a>
                  </li>
                  <li>
                    <a class="active" href="../../datamanagement/import_dicoms/">Import DICOMs</a>
                  </li>
                  <li>
                    <a href="../../datamanagement/import_other/">Import additional data</a>
                  </li>
                  <li>
                    <a href="../../datamanagement/study_specification/">Study specification</a>
                  </li>
                  <li>
                    <a href="../../datamanagement/conversion/">Raw Data Conversion</a>
                  </li>
                  <li>
                    <a href="../../datamanagement/demo/">Demo Study</a>
                  </li>
                  <li>
                    <a href="../../datamanagement/demo_scandb/">Demo: DICOM DB</a>
                  </li>
                  <li>
                    <a href="../../datamanagement/tools/">Tools</a>
                  </li>
                </ul>
              </li>
              <li><a href="../../analysis/">Data Analysis</a></li>
              <li><a href="../../devices/">Acquisition Hardware</a></li>
              <li><a href="../../containers/">Computational Environments</a></li>
              <li><a href="../../contributing/">Contributing</a></li>
      </ul>
    </nav>
    <form class="searchbox" action="../../search.html">
      <input type="text" name="q" id="tipue_search_input" placeholder="Search">
    </form>
    <img src="../../theme/img/cbbs_logo.png" alt="CBBS Logo">
    <img src="../../theme/img/EFRE_logo.png"
         alt="Signets of Saxony-Anhalt and the European Regional Development Fund">
  </aside>

  <main>
    <div id='content'>
<article>
  <header>
    <nav>
      <ul class="breadcrumbs">
        <li><a href="../../">Home</a></li>
        <li> > <a href="../../datamanagement/">Data Management</a></li>
        <li> > Import DICOMs</li>
      </ul>
    </nav>
    <h1>Import DICOMs</h1>
  </header>

  <div>
    <p><a class="reference external" href="https://github.com/psychoinformatics-de/datalad-hirni">datalad-hirni</a>
also provides a command to import a DICOM tarball for an acquisition into a
<a class="reference external" href="../../datamanagement/study_setup/">study dataset</a>. The command to be used for that is:</p>
<pre class="literal-block">
datalad hirni-import-dcm [TARBALL] [ACQUISITION ID]
</pre>
<p>from within your study dataset.  This will result in a subdirectory
<cite>ACQUISITION ID</cite> in your study dataset and a subdataset <cite>dicoms</cite> beneath with the
DICOMs in it, that provides the DICOM metadata for easy access via <cite>datalad</cite>. In
addition a prefilled specification for each series in the tarball is created and
stored in the acquisition's <a class="reference external" href="../../datamanagement/study_specification/">specification file</a> .</p>
<p>If you don't provide an acquisition identifier, a name like <cite>xx99_0123</cite> will be
determined from the DICOM metadata. By default this is the value of field
<cite>PatientID</cite>. However, there are special rules in place (and to further be
developed) to be applied based on the scanner the data was acquired with. This
mechanism allows for different rules per scanner, institution or any other
category that can be identified by the DICOM metadata.</p>
<p>Use <tt class="docutils literal"><span class="pre">--subject</span></tt> to provide a subject ID. Otherwise the import routine will try
to derive the subject ID from the DICOM metadata. A typical case would be the
aforementioned acquisition <cite>xx99_0123</cite> with a corresponding subject ID <cite>xx99</cite>.
Optionally, you can use <tt class="docutils literal"><span class="pre">--anon-subject</span></tt> to additionally provide an anonymized
subject ID. When <a class="reference external" href="../../datamanagement/conversion/">converting</a> the dataset to BIDS,
the switch <tt class="docutils literal"><span class="pre">--anonymize</span></tt> will then determine which subject ID to use for the
converted dataset.</p>
<p>Generally, the option <tt class="docutils literal"><span class="pre">--properties</span></tt> allows to add and/or overwrite the
<a class="reference external" href="../../datamanagement/study_specification/">specification</a> to be created for this
acquisition by passing a JSON string. Thereby you can assign a task label for example:</p>
<pre class="literal-block">
datalad hirni-import-dcm --subject xx99 --anon-subject 007 \
--properties '{"bids_task": "dofancystuff", \
               "comment": "something unusual happened during this acquisition"}' \
/path/to/tarball
</pre>
<p>DICOM subdatasets can be archived separately to, for example, build raw data
archives (for a lab, a scanner, an institution) that can be easily queried for
scan with particular properties (see <a class="reference external" href="../../datamanagement/demo_scandb/">this demo</a>
for an example).</p>
<p><em>TODO: Notes on how and what to drop/clean up</em></p>

  </div>
</article>
    </div>

    <footer>
      <p><small>
          Acknowledgment: funded by the federal state of Saxony-Anhalt and the "European Regional Development Fund" (ERDF 2014-2020), Project: Center for Behavioral Brain Sciences (CBBS), FKZ: ZS/2016/04/78113
      </small></p>
      <p><small>
        content licensed <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">cc-by-sa</a>
        <span class='break'>—</span> ©2017–2018 Team Brawndo <span class='break'>—</span>
        unless <a rel="license" href='../../copyright.html'>indicated otherwise</a>
      </small></p>
    </footer>
  </main>
</body>
</html>